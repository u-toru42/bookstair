<% content_for(:title, @book.title) %>

<div class="p-4 bg-[url('shelf.png')] flex justify-center border-2 border-gray-200 text-sm min-h-screen">
  <section class="max-w-5xl p-6 rounded bg-[url('wood.png')]">
    <div>
      <% if @bookmark.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@bookmark.errors.count, "error") %> prohibited this bookmark from being saved:</h2>
          <ul>
            <% @bookmark.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-3 sm:items-center">
      <div class="flex justify-center item-center">
        <%= image_tag @book.large_image_url, style: "width: 200px; height: 250px; object-fit: contain;", class:"m-2" %>
      </div>

      <blockquote class="sm:col-span-2 bg-slate-50 rounded p-3">
        <h1 class="text-lg font-semibold sm:text-md">
          <%= set_rakuten_book_params(@book.title) %>
        </h1>

        <p class="text-base mb-1">著者: <%= set_rakuten_book_params(@book.author) %></p>

        <p class="text-base font-semibold"><%= number_to_currency(@book.item_price, format: "%u%n", unit: "￥") %></p>

        <div class="mt-2">
          <div class="prose max-w-none">
            <p>
              <%= simple_format(@book.item_caption) %>
            </p>
          </div>
        </div>
        <div class="flex justify-end gap-2 mt-2">
          <%= link_to @book.item_url, target: '_blank', class: "flex flex-row" do %>
            <%= image_tag "rakuten_shop.png", class: "w-8 h-8 object-cover", title: "楽天で購入" %>
          <% end %>
          <%= render 'bookmarks/modal', { book: @book, bookmark: @bookmark } %>
        </div>
      </blockquote>
      <!-- しおりエリア -->
      <%#= render 'bookmarks/bookmarks', { bookmarks: @bookmarks } %>
      <div class="py-1">
        <table id ="js-table-bookmark" class="table" data-controller="bookmarks">
          <%= render 'bookmarks/bookmarks', { bookmarks: @bookmarks } %>
        </table>
      </div>
    </div>
  </section>
</div>
